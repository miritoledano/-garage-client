<div class="container">
  <div class="tables-container">
    <app-garage-multiselect
      [garages]="garagesFromApi"
      (loadApiRequested)="loadGaragesFromApi()"
      (selectionChange)="onSelectionChange($event)">
    </app-garage-multiselect>

    <app-garage-add-button
      [selectedGarages]="selectedGarages"
      [loading]="loading"
      (addClicked)="onAddSelected()">
    </app-garage-add-button>

    <div class="tables-wrapper">
      <div class="table-box">
        <h3>מוסכים מה-API</h3>
        <app-loader [visible]="loadingApi" message="טוען מוסכים..."></app-loader>
        <app-garage-table
          *ngIf="!loadingApi"
          [garages]="garagesFromApi"
          (selectionChange)="onSelectionChange($event)">
        </app-garage-table>
      </div>

      <div class="table-box">
        <h3>מוסכים מהמסד הנתונים</h3>
        <app-garage-table [garages]="garagesFromDb"></app-garage-table>
      </div>
    </div>

    <app-loader [visible]="loading" message="מוסיף מוסכים למסד..."></app-loader>
  </div>

  <div class="notification-container" *ngIf="notification">
    <div class="notification-box" [ngClass]="notification.type">
      <span class="icon">⚡</span>
      <span>{{notification.message}}</span>
    </div>
  </div>
</div>
